<mat-card>
  <!-- Mat-Menu -->
  <button mat-mini-fab 
  color="primary" 
  [matMenuTriggerFor]="cardMenu"
  class="card-menu-button"
  >
  <mat-icon>more_vert</mat-icon>
</button>
<mat-menu #cardMenu="matMenu">
  <ng-template matMenuContent>
    <button mat-menu-item (click)="suspectSwitch()">Panneau suspect</button>
    <button mat-menu-item (click)="caseSwitch()">Panneau affaire</button>
    <button mat-menu-item (click)="userSwitch()">Panneau agent</button>
  </ng-template>
</mat-menu>

<h1>Utilisateurs</h1>
    <form #upDateForm="ngForm" (ngSubmit)="onSubmit(upDateForm.value)" class="form-container">

        <div class="inputs">
        <!-- Left part -->
          <div class="leftPart">
          
            <mat-form-field>
              <input matInput 
                     type="text" 
                     name="nom" 
                     #nom="ngModel" 
                     placeholder="Nom" 
                     [(ngModel)]="formData.nom" 
                     required
                     minlength="3">
              <mat-hint align="end"> Trois charactères minimum</mat-hint>
              <mat-error *ngIf="nom.errors?.required">Ce champ est obligatoire</mat-error>
              <mat-error *ngIf="nom.errors?.minlength">{{nom.errors?.minlength.requiredLength}} charactères minimum, vous en avez {{nom.errors?.minlength.actualLength}} </mat-error>
            </mat-form-field>
            <br/>
            <mat-form-field>
              <input matInput 
                     type="text" 
                     name="prenom"
                     #firstName="ngModel" 
                     placeholder="Prenom" 
                     [(ngModel)]="formData.prenom" 
                     required
                     minlength="3">
              <mat-hint align="end"> Trois charactères minimum</mat-hint>
              <mat-error *ngIf="firstName.errors?.required">Ce champ est obligatoire</mat-error>
              <mat-error *ngIf="firstName.errors?.minlength">{{firstName.errors?.minlength.requiredLength}} charactères minimum, vous en avez {{firstName.errors?.minlength.actualLength}} </mat-error>
            </mat-form-field>
            <br/>
            
            <mat-radio-group name="genre"
                             #gender="ngModel" 
                             [(ngModel)]="formData.genre">
              <label>Genre: </label>
              <div class="radio-buttons">
                <mat-radio-button value="M">Homme</mat-radio-button>
                <br/>
                <mat-radio-button value="F">Femme</mat-radio-button>
                <br/>
              </div>
            </mat-radio-group>
            <br/>
      
            <mat-form-field>
              <label>Date de Naissance</label>
              <input matInput type="date" name="dateNaissance" [(ngModel)]="formData.dateNaissance">
            </mat-form-field>
            <br/>

                    
            
            <mat-form-field>
              <input matInput type="text" name="grade" placeholder="Grade" [(ngModel)]="formData.grade" required>
            </mat-form-field>
            <br/>
            
            <mat-form-field>
              <input matInput type="text" name="competences" placeholder="Competences" [(ngModel)]="formData.competences">
            </mat-form-field>
            <br/>
            
            
            <mat-form-field>
              <input matInput type="number" name="statutActivite" placeholder="Statut Activite" [(ngModel)]="formData.statutActivite">
            </mat-form-field>
            <br/>
            

          </div>
          
          
          <!-- Right part -->
          <div class="rightPart">
            
            <mat-form-field>
              <input matInput type="number" name="telephone" placeholder="Telephone" [(ngModel)]="formData.telephone">
            </mat-form-field>
            <br/>
  
  
            <mat-form-field>
              <input matInput type="number" name="numEnquete" placeholder="Numero Enquete" [(ngModel)]="formData.numEnquete">
            </mat-form-field>
            <br/>
  
            
            <mat-form-field>
              <label>Anciennete</label>
              <input matInput type="date" name="anciennete" [(ngModel)]="formData.anciennete">
            </mat-form-field>
            <br/>
            
          </div>
        </div>

        <!-- Submit -->
        <div>
          <button 
          mat-raised-button
          [disabled]="!upDateForm.valid"
          type="submit"
          color="primary">Créer</button>
        </div>
          
        </form>
        
        <div class="submit">
          <button 
            mat-raised-button
            (click)="update()"
            color="accent">Mettre à jour</button>
          <button 
            mat-button
            (click)="clearForm()"
            color="primary">Reinitialiser</button>
          
      </div>
      <!-- testPurpose -->
      <!-- <div class="feedback">
        <h1>{{upDateForm.value | json}}</h1>
        <h1>{{upDateForm.valid | json}}</h1>
      </div> -->
         
</mat-card>

<mat-card>
    <administration-link *ngIf="researchService.resultType=== 'suspect'"[typeSwitch]="url.SPRING_URL_POST_SUSPECT_LINK"></administration-link>
     <!-- <administration-link *ngIf="researchService.resultType=== 'user'"[typeSwitch]="url.SPRING_URL_POST_USER_LINK"></administration-link> -->
</mat-card>